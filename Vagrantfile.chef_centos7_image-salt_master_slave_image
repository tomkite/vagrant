master_name = "local-salt"
minion_name = "local-minion"
master_ip = "192.168.1.10"
minion_ip = "192.168.1.11"

vm_ip = '172.28.128.101'

master_script = <<-eos
   yum update
   yum install -y epel-release
   yum makecache
   yum install -y salt-master
   chkconfig salt-master on
   systemctl start salt-master
eos

minion_script = <<-eos
   yum update
   yum install -y epel-release
   yum makecache
   yum install -y salt-minion
   chkconfig salt-minion on
   systemctl start salt-minion
eos

Vagrant.configure("2") do |config|

  config.vm.define master_name do |node|
    node.vm.hostname = master_name
    node.vm.box = "chef/centos-7.0"
    node.vm.network "private_network", ip: master_ip
    node.vm.provision "shell", inline: master_script
  end

  config.vm.define minion_name do |node|
    node.vm.hostname = minion_name
    node.vm.box = "chef/centos-7.0"
    node.vm.network "private_network", ip: minion_ip
    node.vm.provision "shell", inline: minion_script
  end

end

